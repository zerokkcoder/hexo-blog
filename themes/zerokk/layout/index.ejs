<div class="index-container">
    <!-- 文章列表 -->
    <div class="post-list">
        <% page.posts.each(function(post){ %>
            <article class="post-item">
                <header class="post-header">
                    <h2 class="post-title">
                        <a href="<%- url_for(post.path) %>"><%= post.title || '无标题' %></a>
                    </h2>
                    <div class="post-meta">
                        <span class="post-time">
                            <i class="icon-calendar"></i>
                            <%= date(post.date, 'YYYY-MM-DD') %>
                        </span>
                        <% if (post.categories && post.categories.length){ %>
                            <span class="post-category">
                                <i class="icon-folder"></i>
                                <%- list_categories(post.categories, {
                                    show_count: false,
                                    class: 'category-link',
                                    style: 'none'
                                }) %>
                            </span>
                        <% } %>
                        <% if (post.tags && post.tags.length){ %>
                            <span class="post-tags">
                                <i class="icon-tag"></i>
                                <%- list_tags(post.tags, {
                                    show_count: false,
                                    class: 'tag-link',
                                    style: 'none'
                                }) %>
                            </span>
                        <% } %>
                    </div>
                </header>
                
                <div class="post-excerpt">
                    <% if(post.excerpt) { %>
                        <%- post.excerpt %>
                    <% } else { %>
                        <%- truncate(strip_html(post.content), {length: 200}) %>
                    <% } %>
                </div>
                
                <div class="post-more">
                    <a href="<%- url_for(post.path) %>" class="read-more">
                        阅读全文 <i class="icon-arrow-right"></i>
                    </a>
                </div>
            </article>
        <% }) %>
    </div>

    <!-- 分页 -->
    <% if (page.total > 1){ %>
        <nav class="pagination">
            <%- paginator({
                prev_text: '上一页',
                next_text: '下一页',
                mid_size: 2
            }) %>
        </nav>
    <% } %>
</div>